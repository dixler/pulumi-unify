
import * as aws from "@pulumi/aws";
import * as awssdk from "aws-sdk";
import {
    AddPermissionRequest,
    ChangeMessageVisibilityRequest,
    ChangeMessageVisibilityBatchRequest,
    CreateQueueRequest,
    DeleteMessageRequest,
    DeleteMessageBatchRequest,
    DeleteQueueRequest,
    GetQueueAttributesRequest,
    GetQueueUrlRequest,
    ListDeadLetterSourceQueuesRequest,
    ListQueueTagsRequest,
    PurgeQueueRequest,
    ReceiveMessageRequest,
    RemovePermissionRequest,
    SendMessageRequest,
    SendMessageBatchRequest,
    SetQueueAttributesRequest,
    TagQueueRequest,
    UntagQueueRequest,
    ChangeMessageVisibilityBatchResult,
    CreateQueueResult,
    DeleteMessageBatchResult,
    GetQueueAttributesResult,
    GetQueueUrlResult,
    ListDeadLetterSourceQueuesResult,
    ListQueueTagsResult,
    ReceiveMessageResult,
    SendMessageResult,
    SendMessageBatchResult
} from "aws-sdk/clients/sqs";

import {getResourceOperations} from "../parse";

type UndefinedProperties<T> = {
    [P in keyof T]-?: undefined extends T[P] ? P : never
}[keyof T]

type ToOptional<T> = Partial<Pick<T, UndefinedProperties<T>>> & Pick<T, Exclude<keyof T, UndefinedProperties<T>>>

export default class Resource extends aws.sqs.QueuePolicy {
    private ops: any
    private client: any
    constructor(...args: ConstructorParameters<typeof aws.sqs.QueuePolicy>) {
        super(...args)
        this.client = new awssdk.SQS()
        this.ops = getResourceOperations(this as any, require("../../aws-sdk-js/apis/sqs-2012-11-05.normal.json"), this.client)
    }

    addPermission(partialParams: ToOptional<{
      [K in keyof AddPermissionRequest & keyof AddPermissionRequest]: (AddPermissionRequest & AddPermissionRequest)[K]
    }>): void {
        return this.client.addPermission(
            this.ops["AddPermission"].apply(partialParams)
        );
    }

    changeMessageVisibility(partialParams: ToOptional<{
      [K in keyof ChangeMessageVisibilityRequest & keyof ChangeMessageVisibilityRequest]: (ChangeMessageVisibilityRequest & ChangeMessageVisibilityRequest)[K]
    }>): void {
        return this.client.changeMessageVisibility(
            this.ops["ChangeMessageVisibility"].apply(partialParams)
        );
    }

    changeMessageVisibilityBatch(partialParams: ToOptional<{
      [K in keyof ChangeMessageVisibilityBatchRequest & keyof ChangeMessageVisibilityBatchRequest]: (ChangeMessageVisibilityBatchRequest & ChangeMessageVisibilityBatchRequest)[K]
    }>): ChangeMessageVisibilityBatchResult {
        return this.client.changeMessageVisibilityBatch(
            this.ops["ChangeMessageVisibilityBatch"].apply(partialParams)
        );
    }

    createQueue(partialParams: ToOptional<{
      [K in keyof CreateQueueRequest & keyof CreateQueueRequest]: (CreateQueueRequest & CreateQueueRequest)[K]
    }>): CreateQueueResult {
        return this.client.createQueue(
            this.ops["CreateQueue"].apply(partialParams)
        );
    }

    deleteMessage(partialParams: ToOptional<{
      [K in keyof DeleteMessageRequest & keyof DeleteMessageRequest]: (DeleteMessageRequest & DeleteMessageRequest)[K]
    }>): void {
        return this.client.deleteMessage(
            this.ops["DeleteMessage"].apply(partialParams)
        );
    }

    deleteMessageBatch(partialParams: ToOptional<{
      [K in keyof DeleteMessageBatchRequest & keyof DeleteMessageBatchRequest]: (DeleteMessageBatchRequest & DeleteMessageBatchRequest)[K]
    }>): DeleteMessageBatchResult {
        return this.client.deleteMessageBatch(
            this.ops["DeleteMessageBatch"].apply(partialParams)
        );
    }

    deleteQueue(partialParams: ToOptional<{
      [K in keyof DeleteQueueRequest & keyof DeleteQueueRequest]: (DeleteQueueRequest & DeleteQueueRequest)[K]
    }>): void {
        return this.client.deleteQueue(
            this.ops["DeleteQueue"].apply(partialParams)
        );
    }

    getQueueAttributes(partialParams: ToOptional<{
      [K in keyof GetQueueAttributesRequest & keyof GetQueueAttributesRequest]: (GetQueueAttributesRequest & GetQueueAttributesRequest)[K]
    }>): GetQueueAttributesResult {
        return this.client.getQueueAttributes(
            this.ops["GetQueueAttributes"].apply(partialParams)
        );
    }

    getQueueUrl(partialParams: ToOptional<{
      [K in keyof GetQueueUrlRequest & keyof GetQueueUrlRequest]: (GetQueueUrlRequest & GetQueueUrlRequest)[K]
    }>): GetQueueUrlResult {
        return this.client.getQueueUrl(
            this.ops["GetQueueUrl"].apply(partialParams)
        );
    }

    listDeadLetterSourceQueues(partialParams: ToOptional<{
      [K in keyof ListDeadLetterSourceQueuesRequest & keyof ListDeadLetterSourceQueuesRequest]: (ListDeadLetterSourceQueuesRequest & ListDeadLetterSourceQueuesRequest)[K]
    }>): ListDeadLetterSourceQueuesResult {
        return this.client.listDeadLetterSourceQueues(
            this.ops["ListDeadLetterSourceQueues"].apply(partialParams)
        );
    }

    listQueueTags(partialParams: ToOptional<{
      [K in keyof ListQueueTagsRequest & keyof ListQueueTagsRequest]: (ListQueueTagsRequest & ListQueueTagsRequest)[K]
    }>): ListQueueTagsResult {
        return this.client.listQueueTags(
            this.ops["ListQueueTags"].apply(partialParams)
        );
    }

    purgeQueue(partialParams: ToOptional<{
      [K in keyof PurgeQueueRequest & keyof PurgeQueueRequest]: (PurgeQueueRequest & PurgeQueueRequest)[K]
    }>): void {
        return this.client.purgeQueue(
            this.ops["PurgeQueue"].apply(partialParams)
        );
    }

    receiveMessage(partialParams: ToOptional<{
      [K in keyof ReceiveMessageRequest & keyof ReceiveMessageRequest]: (ReceiveMessageRequest & ReceiveMessageRequest)[K]
    }>): ReceiveMessageResult {
        return this.client.receiveMessage(
            this.ops["ReceiveMessage"].apply(partialParams)
        );
    }

    removePermission(partialParams: ToOptional<{
      [K in keyof RemovePermissionRequest & keyof RemovePermissionRequest]: (RemovePermissionRequest & RemovePermissionRequest)[K]
    }>): void {
        return this.client.removePermission(
            this.ops["RemovePermission"].apply(partialParams)
        );
    }

    sendMessage(partialParams: ToOptional<{
      [K in keyof SendMessageRequest & keyof SendMessageRequest]: (SendMessageRequest & SendMessageRequest)[K]
    }>): SendMessageResult {
        return this.client.sendMessage(
            this.ops["SendMessage"].apply(partialParams)
        );
    }

    sendMessageBatch(partialParams: ToOptional<{
      [K in keyof SendMessageBatchRequest & keyof SendMessageBatchRequest]: (SendMessageBatchRequest & SendMessageBatchRequest)[K]
    }>): SendMessageBatchResult {
        return this.client.sendMessageBatch(
            this.ops["SendMessageBatch"].apply(partialParams)
        );
    }

    setQueueAttributes(partialParams: ToOptional<{
      [K in keyof SetQueueAttributesRequest & keyof SetQueueAttributesRequest]: (SetQueueAttributesRequest & SetQueueAttributesRequest)[K]
    }>): void {
        return this.client.setQueueAttributes(
            this.ops["SetQueueAttributes"].apply(partialParams)
        );
    }

    tagQueue(partialParams: ToOptional<{
      [K in keyof TagQueueRequest & keyof Omit<TagQueueRequest, "QueueUrl">]: (TagQueueRequest & Omit<TagQueueRequest, "QueueUrl">)[K]
    }>): void {
        return this.client.tagQueue(
            this.ops["TagQueue"].apply(partialParams)
        );
    }

    untagQueue(partialParams: ToOptional<{
      [K in keyof UntagQueueRequest & keyof Omit<UntagQueueRequest, "QueueUrl">]: (UntagQueueRequest & Omit<UntagQueueRequest, "QueueUrl">)[K]
    }>): void {
        return this.client.untagQueue(
            this.ops["UntagQueue"].apply(partialParams)
        );
    }
}